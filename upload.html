<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ˜ç´°æ›¸AIãƒã‚§ãƒƒã‚¯</title>
  <script src="uploadscript.js" defer></script>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      background: linear-gradient(to right, #bbb, #333);
      color: white;
      padding: 2rem;
    }
    form {
      background: #222;
      padding: 2rem;
      border-radius: 8px;
      display: inline-block;
      width: 90%;
      max-width: 600px;
    }
    label {
      font-weight: bold;
      margin-top: 1rem;
      display: block;
      text-align: left;
    }
    input[type="text"] {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.5rem;
      border-radius: 5px;
      border: none;
    }
    button {
      background-color: #2196f3;
      color: white;
      font-weight: bold;
      cursor: pointer;
      padding: 0.75rem;
      width: 100%;
      border: none;
      border-radius: 5px;
      margin-top: 2rem;
    }
    .drop-zone {
      border: 2px dashed #ccc;
      border-radius: 8px;
      padding: 1.5rem;
      margin-top: 1rem;
      background-color: #333;
      cursor: pointer;
      position: relative;
    }
    .drop-zone input[type="file"] {
      display: none;
    }
    .file-display {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      margin-top: 0.5rem;
    }
    .file-label {
      font-weight: bold;
    }
    .remove-btn {
      color: red;
      cursor: pointer;
      font-size: 1.5rem;
    }
    .notice {
      font-size: 0.9rem;
      margin-top: 0.5rem;
      color: #ddd;
      text-align: left;
    }
    #result {
      white-space: pre-wrap;
      margin-top: 30px;
      background: white;
      color: black;
      padding: 1rem;
      border-radius: 8px;
      text-align: left;
    }
    #result:empty::before {
      content: "ï¼ˆã“ã“ã«ãƒã‚§ãƒƒã‚¯çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼‰";
      color: #888;
      font-size: 0.85rem;
    }
  </style>
</head>
<body>
  <h1>æ˜ç´°æ›¸ãƒ»ç‰¹è¨±è«‹æ±‚ã®ç¯„å›²ãƒ»è¦ç´„æ›¸AIãƒã‚§ãƒƒã‚¯</h1>
  <form id="upload-form" enctype="multipart/form-data">
    <label for="shoin_id">æ‰€å“¡IDã¾ãŸã¯æ°åï¼ˆå¿…é ˆï¼‰</label>
    <input type="text" name="shoin_id" id="shoin_id" required />

    <label for="today-date">æ—¥ä»˜ï¼ˆè‡ªå‹•ï¼‰</label>
    <input type="text" name="date" id="today-date" readonly />

    <label for="seiri_no">æ•´ç†ç•ªå·ï¼ˆå¿…é ˆï¼‰</label>
    <input type="text" name="seiri_no" id="seiri_no" required />

    <label for="meisai_file">æ˜ç´°æ›¸ï¼ˆå¿…é ˆï¼‰</label>
    <div class="drop-zone" id="docxZone">
      <span class="placeholder">æ˜ç´°æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.docxï¼‰ã‚’<br>ã“ã“ã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ— ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ</span>
      <input type="file" name="meisai" id="meisai_file" accept=".docx" />
      <div class="file-display" id="docx-display" style="display: none;">
        <span class="file-label" id="docx-name"></span>
        <span class="remove-btn" id="remove-docx">ğŸ—‘</span>
      </div>
    </div>
    <div class="notice">æ˜ç´°æ›¸ã¯ .docx å½¢å¼ã§ã”æå‡ºãã ã•ã„ã€‚</div>

    <label for="zumen_file">å›³é¢ï¼ˆä»»æ„ï¼‰</label>
    <div class="drop-zone" id="pdfZone">
      <span class="placeholder">å›³é¢ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆPDF, ä»»æ„ï¼‰ã‚’<br>ã“ã“ã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ— ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ</span>
      <input type="file" name="zumen" id="zumen_file" accept=".pdf" />
      <div class="file-display" id="pdf-display" style="display: none;">
        <span class="file-label" id="pdf-name"></span>
        <span class="remove-btn" id="remove-pdf">ğŸ—‘</span>
      </div>
    </div>
    <div class="notice">
      å›³é¢ã¯ PDF å½¢å¼ï¼ˆOCRåŒ–æ¨å¥¨ï¼‰ã‚’ã”æå‡ºãã ã•ã„ã€‚ç‰¹ã«ã€ãƒ–ãƒ­ãƒƒã‚¯å›³ã‚„ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆç­‰ã®æ–‡å­—ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€OCRåŒ–ã—ãŸã‚‚ã®ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚
    </div>

    <button type="submit">AIãƒã‚§ãƒƒã‚¯ã‚’é–‹å§‹</button>
  </form>

  <div id="analysis-status" style="display: none; margin-top: 30px; font-size: 1.2rem;">
    AIåˆ†æä¸­ã§ã™ã€‚ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„...
    <div id="progress-container" style="margin: 15px auto 0 auto; width: 100%; max-width: 400px; height: 10px; background-color: #eee; border-radius: 5px; overflow: hidden;">
      <div id="progress-bar" style="width: 0%; height: 100%; background-color: #00ffcc; transition: width 0.2s ease;"></div>
    </div>
  </div>

  <script>
    document.getElementById("today-date").value = new Date().toISOString().split('T')[0];
  </script>
</body>
</html>
